<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.prime.com.tr/ui"
      xmlns:c="http://java.sun.com/jsp/jstl/core">

    <ui:composition template="/resources/plantillas/plantillaPrincipal.xhtml">

        <ui:define name="title">

        </ui:define>

        <ui:define name="importaciones">
            <c:if test="#{true}">
                <script type="text/javascript">
                    //<![CDATA[
                    //]]>
                </script>
            </c:if>
        </ui:define>

        <ui:define name="contenido_menu">
        </ui:define>

        <ui:define name="titulo_entrada">
            <h:form>
                <p  class="boxy">
                    &laquo;
                    <strong style="text-align: left;">
                        <h:commandLink action="#{editarEmpleadodBean.prepareEmpleados()}" value="Regresar a Lista Empleados" immediate="true"/>
                    </strong>
                </p>    </h:form>

        </ui:define>

        <ui:define name="Cuerpo">

            <h:panelGroup id="pgformulario">
                <h:form id="fmver" prependId="false">
                    <h3><h:outputText value="Datos del Empleado"></h:outputText></h3>
                    <table style="width: 50%" class="tabla_estandar">
                        <thead>
                            <th/><th/>
                        </thead>
                        <tr>
                            <td>
                                <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                    <h:outputText value="Identificacion"/>
                                </div>
                            </td>
                            <td style="width: 98.5%; min-width: 100px;" >
                                <div class="colu75" style="min-width: 120px;">
                                    <h:outputText value="V-" rendered="#{editarEmpleadodBean.empleado.tipoIdentificacion eq '86'}"/>
                                    <h:outputText value="E-" rendered="#{editarEmpleadodBean.empleado.tipoIdentificacion ne '86'} "/>
                                    <h:outputText value="#{editarEmpleadodBean.empleado.nroIdentificacion}" styleClass="campo60"  title="Identificacion"/>

                                </div></td>
                            <td><div class="col_titulo" style="width: 25%; min-width: 150px;" >

                                    <h:outputLabel value="" />
                                </div>
                            </td>
                            <td rowspan="4"><div style="width: 25%; min-width: 150px; max-width: 300px;" >

                                    <h:panelGroup id="actualizar" layout="block" style="text-align: center">
                                        <h:panelGroup id="ImagenLogo">

                                            <h:graphicImage height="100" 
                                                            width="100" alt="/faces/resources/images/usuarios/#{editarEmpleadodBean.empleado.nombres}"
                                                            value="#{editarEmpleadodBean.comprobarImagen(editarEmpleadodBean.empleado.codigo)}"/>

                                        </h:panelGroup>

                                    </h:panelGroup>

                                </div></td>
                        </tr>

                        <tr>
                            <td>
                                <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                    <h:outputText value="Codigo: "/>
                                </div>
                            </td>
                            <td>
                                <div class="colu75">
                                    <h:inputText  value="#{editarEmpleadodBean.empleado.codigo}" styleClass="campo60"  title="Codigo"/>
                                </div></td>
                        </tr>



                        <tr>
                            <td>
                                <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                    <h:outputText value="Nombres:"/>
                                </div>
                            </td>
                            <td>
                                <div class="colu75">
                                    <h:inputText value="#{editarEmpleadodBean.empleado.nombres}" styleClass="campo60"  title="Nombres"/>
                                </div></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                    <h:outputText value="Apellidos: "/>
                                </div>
                            </td>
                            <td>
                                <div class="colu75">
                                    <h:inputText value="#{editarEmpleadodBean.empleado.apellidos}" styleClass="campo60"  title="Apellidos"/>
                                </div></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                    <h:outputText value="Cargo:"/>
                                </div>
                            </td>
                            <td>
                                <div class="colu75">
                                    <h:selectOneMenu value="#{editarEmpleadodBean.empleado.idCargo.nombre}"  styleClass="campo90"  title="Cargo" style="width: 98.5%; min-width: 150px;">
                                        <f:selectItems value="#{editarEmpleadodBean.cargos}" var="id" itemLabel="#{id.nombre}" itemValue="#{id.nombre}" />

                                    </h:selectOneMenu>
                                </div></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col_titulo"  >
                                    <h:outputText value="Correo"/>
                                </div>
                            </td>
                            <td>
                                <div class="colu75">
                                    <h:inputText value="#{editarEmpleadodBean.empleado.correo}" styleClass="campo60"  title="Correo"/>
                                </div></td>

                        </tr>
                        <tr>
                            <td>
                                <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                    <h:outputText value="Fecha Nacimiento"/>
                                </div>
                            </td>
                            <td>
                                <div class="colu75">
                                    <h:outputText value="#{editarEmpleadodBean.empleado.fechaNacimiento.day}-#{editarEmpleadodBean.empleado.fechaNacimiento.month}-#{editarEmpleadodBean.empleado.fechaNacimiento.year}" styleClass="campo60"  title="Fecha Nacimiento"/>

                                </div></td>
                        </tr>
                        <tr>
                            <td>
                                <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                    <h:outputText value="Fecha Ingreso"/>
                                </div>
                            </td>
                            <td>
                                <div class="colu75">
                                    <h:outputText value="#{editarEmpleadodBean.empleado.fechaIngreso.day}-#{editarEmpleadodBean.empleado.fechaIngreso.month}-#{editarEmpleadodBean.empleado.fechaIngreso.year}" styleClass="campo60"  title="Fecha Ingreso"/>

                                </div></td>
                        </tr>
                    </table>
                    <br/><br/>
                    <p:outputPanel id="panels">
                        <table style="width: 50%" class="tabla_estandar">
                            <thead>
                                <th/><th/>
                            </thead>

                            <tr>
                                <td colspan="2">
                                    <p class="boxy" style="border-bottom-width: 1px;" >
                                        <h3><h:outputText value="Datos del Supervisor"></h:outputText></h3>

                                    </p>
                                </td>
                                <td></td>
                            </tr> 

                            <tr>
                                <td>
                                    <div class="col_titulo" style="width: 98.5%; min-width: 150px;"  >
                                        <h:outputText   value="Supervisor" />
                                    </div>
                                </td>
                                <td>
                                    <div class="colu75">
                                        <h:outputText  value="#{editarEmpleadodBean.supervisor.nombres} #{editarEmpleadodBean.supervisor.apellidos}" styleClass="campo60"  title="Supervisor"/>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="col_titulo" style="width: 98.5%; min-width: 150px;" >
                                        <h:outputText value="Codigo"/>
                                    </div>
                                </td>
                                <td>
                                    <div class="colu75">
                                        <h:outputText value="#{editarEmpleadodBean.supervisor.codigo}" styleClass="campo60"  title="Codigo"/>
                                    </div></td>
                                <td><div class="col_titulo" style="width: 25%; min-width: 150px;" >

                                        <h:outputLabel value="" />
                                    </div>
                                </td>
                                <td rowspan="5"><div style="width: 25%; min-width: 150px; max-width: 300px;" >

                                        <h:panelGroup id="actualizar2" layout="block" style="text-align: center">
                                            <h:panelGroup id="ImagenLogo2">

                                                <h:graphicImage height="100"                                                                 width="100" alt="/faces/resources/images/usuarios/#{editarEmpleadodBean.supervisor.nombres}"
                                                                value="#{editarEmpleadodBean.comprobarImagen(editarEmpleadodBean.supervisor.codigo)}"/>

                                            </h:panelGroup>

                                        </h:panelGroup>

                                    </div></td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="col_titulo" style="width: 98.5%; min-width: 150px;"  >
                                        <h:outputText  value="Correo"/>
                                    </div>
                                </td>
                                <td>
                                    <div class="colu75">
                                        <h:outputText  value="#{editarEmpleadodBean.supervisor.correo}" styleClass="campo60"  title="Correo"/>
                                    </div></td>
                            </tr>
                            <tr>
                                <td>.</td>
                            </tr>
                            <tr>

                                <td>
                                    <p:commandButton id="Guardar"   update="@form growlmsj elmD2" type="button"  value="Cambiar Supervisor" onclick="confirmation2.show()"  />

                                </td>

                                <td>
                                    <p:commandButton id="Guardars"   update="@form growlmsj elmD2" type="button"  value="Eliminar Supervisor" onclick="confirmacion3.show()"  />

                                </td>
                            </tr>



                        </table>
                    </p:outputPanel>
                    <br />
                    <h:panelGrid id="display3" columns="2" cellpadding="4">

                        <p:commandButton id="Guardar3"   update="@form growlmsj pgsublista"  value="Editar" action="#{editarEmpleadodBean.Edit()}" />

                        <p:commandButton value="Cancelar" action="#{editarEmpleadodBean.prepareEmpleados()}" />
                    </h:panelGrid> 

                    <h:panelGroup id="elmD2">

                        <p:dialog id="elmdialog2"  modal="true" header="seleccionar Supervisor" width="800" widgetVar="confirmation2"  >
                            <p class="boxy" style="border-bottom-width: 1px;" align="center" >
                                <p:commandButton value="Cancelar" type="button" onclick="confirmation2.hide()" />

                            </p>
                            <h:panelGroup id="pglista">
                                <br/>
                                <br/>
                                <p:separator />
                                <h:panelGrid columns="1" style="alignment-adjust: center;">
                                    <h:panelGrid columns="8">

                                        <h:outputText value="Nombres" /><h:inputText value="#{editarEmpleadodBean.filtron}" />

                                        <h:outputText value="Apellidos" />  <h:inputText value="#{editarEmpleadodBean.filtroa}" />

                                        <h:outputText value="Cedula" />  <h:inputText value="#{editarEmpleadodBean.filtroc}" />
                                        <h:outputText value=""/>

                                        <p:commandButton action="#{editarEmpleadodBean.filtrar}" id="filtrador"  update="pgsublista" value="Filtrar"/>

                                        <h:outputText value=""/>

                                    </h:panelGrid>
                                </h:panelGrid>
                                <p:separator />
                                <h:panelGroup id="pgsublista">
                                    <script type="text/javascript">
                                        //<![CDATA[
                                        corregir_tabla();
                                        jQuery.noConflict();
                                        $ = jQuery;
                                        $("elmD2").ready(function () {
                                            $('#filtrador').focus();
                                        });
                                            
                                        //]]>
                                    </script>
                                    <p:dataTable id="tlazy" var="item" value="#{editarEmpleadodBean.empleadosd}" paginator="true"    rows="20" dynamic="true"
                                                 paginatorTemplate=" {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
                                                 rowIndexVar="i" emptyMessage="No hay resultados" widgetVar="mit"    >

                                        <p:column  style="width: 190px; max-width: 190px; min-width: 190px;  text-align: center;" styleClass="campo60"  headerText="#{bundleP.ListEmpleadosNombre}"

                                                   footerText="#{bundleP.ListEmpleadosNombre}"    >

                                            <h:outputText value="#{item.nombres} #{item.apellidos}" style="font-size: 14px;" />
                                        </p:column>

                                        <p:column  style="width: 60px; max-width: 60px; min-width: 60px;   text-align: center;" styleClass="campo60"  headerText="#{bundleP.ListEmpleadosCedula}"
                                                   footerText="#{bundleP.ListEmpleadosCedula}" >



                                            <h:outputText value="#{item.nroIdentificacion}" style="font-size: 14px;"/>

                                        </p:column>
                                        <p:column style="width: 20px; text-align: center;" styleClass="campo60"  headerText="#{bundleP.ListEmpleadosCargo}"
                                                  footerText="#{bundleP.ListEmpleadosCargo}" >

                                            <h:outputText value="#{item.idCargo.nombre}" style="font-size: 14px;" />

                                        </p:column>

                                        <p:column style="width: 40px; max-width: 40px; min-width: 40px;  text-align: center; "   headerText="Seleccionar"  footerText="Seleccionar" >
                                            <p:commandLink   update="pgformulario"  process="@this" action="#{editarEmpleadodBean.prepareEdit()}">
                                                <f:setPropertyActionListener  target="#{editarEmpleadodBean.superv}" value="#{item}" />
                                                <h:graphicImage  alt="Seleccionar"  value="/faces/resources/images/iconos/check.png"/>
                                            </p:commandLink>
                                        </p:column>


                                    </p:dataTable>

                                    <p class="boxy"  style="border-bottom-width: 1px;" align="center" >
                                        <p:commandButton  value="Cancelar" type="button" onclick="confirmation2.hide()" />

                                    </p>
                                </h:panelGroup>
                            </h:panelGroup>
                        </p:dialog>

                    </h:panelGroup>	
                    <h:panelGroup id="elmDeli">
                        <p:dialog id="cdconfirmacioneli" header="#{bundleP.CDCabeceraTitle}" widgetVar="confirmacion3" >
                            <h:outputText value="#{bundleP.CDMsjTitle} el Supervisor?"></h:outputText>
                            <br/>
                            <h:panelGrid id="displayeli" columns="2" cellpadding="4">

                                <p:commandButton value="#{bundleP.SiTitle}"  update="growlmsj pgsublista"  oncomplete="confirmacion3.hide()" actionListener="#{editarEmpleadodBean.eliminarSupervisore}"  >

                                </p:commandButton>
                                <p:commandButton value="#{bundleP.NoTitle}" onclick="confirmacion3.hide()" type="button" />
                            </h:panelGrid>
                        </p:dialog>
                    </h:panelGroup>
                </h:form>

            </h:panelGroup>
        </ui:define>


        <ui:define name="titulo_salida">
        </ui:define>
    </ui:composition>

</html>
